(function(h,o){typeof exports=="object"&&typeof module<"u"?o(exports):typeof define=="function"&&define.amd?define(["exports"],o):(h=typeof globalThis<"u"?globalThis:h||self,o(h.SliderClass={}))})(this,function(h){"use strict";var v=Object.defineProperty;var w=(h,o,m)=>o in h?v(h,o,{enumerable:!0,configurable:!0,writable:!0,value:m}):h[o]=m;var n=(h,o,m)=>(w(h,typeof o!="symbol"?o+"":o,m),m);class o{constructor(t,r,i){n(this,"radius");n(this,"width");n(this,"heigth");n(this,"sliders");n(this,"legend");n(this,"svg");n(this,"slidersInfo",[]);n(this,"sliderAngle",[]);n(this,"sliderRotationOffset",90);n(this,"mouseActive",!1);n(this,"calculateAngleBasedOnValue",t=>{let r=360,i=t.maxValue,e=t.value;(t==null?void 0:t.minValue)>0&&(i-=t.minValue,e-=t.minValue);let s=e*r/i;return s===360&&(s=359),s});n(this,"calculateValueBasedOnAngle",(t,r)=>{let i=360,e=t.maxValue;(t==null?void 0:t.minValue)>0&&(e-=t.minValue);let s=e*r/i;return s+=t.minValue,Math.ceil(s/t.step)*t.step});n(this,"generateArcForactivePath",(t,r,i,e)=>{let s=0,l=this.polarToCartesian(t,r,i,e),d=this.polarToCartesian(t,r,i,s),a=e-s<=180?0:1;return`
      M ${l.x} ${l.y}
      A ${i} ${i} 0 ${a} 0 ${d.x} ${d.y}
    `});n(this,"polarToCartesian",(t,r,i,e)=>{const s=e*(Math.PI/180);let l=t+i*Math.cos(s),d=r+i*Math.sin(s);return{x:l,y:d}});n(this,"sliderButtonCenterCalculate",(t,r)=>{const i=this.width/2+Math.cos(t)*r,e=this.heigth/2+Math.sin(t)*r;return{x:i,y:e}});n(this,"getMouseAngleInDegree",(t,r)=>{let e=Math.atan2(r-this.heigth/2,t-this.width/2)/(Math.PI/180)+this.sliderRotationOffset;return e<0&&(e=360-Math.abs(e)),e});n(this,"getMouseXY",t=>{let r=this.svg.getBoundingClientRect(),i=t.clientX,e=t.clientY;window.TouchEvent&&t instanceof TouchEvent&&(i=t.touches[0].clientX,e=t.touches[0].clientY);let s=i-r.left,l=e-r.top;return{x:s,y:l}});n(this,"mouseEventStart",(t,r=!1)=>{if(!r)this.mouseActive=!0;else if(!this.mouseActive)return;let i=this.getMouseXY(t),e=this.getMouseAngleInDegree(i.x,i.y),s=this.findSlider(i.x,i.y);this.sliderAngle[s]=e,this.sliders[s].value=this.calculateValueBasedOnAngle(this.sliders[s],e),this.draw()});n(this,"mouseEventEnd",()=>{this.mouseActive=!1});n(this,"drawLegend",()=>{let t='<div style="display:grid; grid-template-columns: 90px 1fr;">';return this.sliders.map(r=>{t+=`
          <div style="font-weight: bold; font-size: 2rem;">
            $${r.value}
          </div>
          <div style="margin-left: 15px; display: flex; align-items: end;">
            <div style="
                  width: 12px; height: 7px; background: ${r.color};"></div>
            <div style="margin-left: 10px; font-size: .7rem;">${r.name}</div>
          </div>
      `}),t+="</div>",t});n(this,"draw",()=>{let r=this.radius*2/this.sliders.length/2,i=this.sliders.length;this.legend.innerHTML=this.drawLegend(),this.svg.innerHTML="";let e=document.createElementNS("http://www.w3.org/2000/svg","defs");e.innerHTML=`
    <radialGradient id="radialGradient">
      <stop offset="0%" stop-color="white" />
      <stop offset="95%" stop-color="#e8e9e9" />
    </radialGradient>
    `,this.svg.appendChild(e);let s;this.sliders.map((l,d)=>{s=r*i,i--;const a=document.createElementNS("http://www.w3.org/2000/svg","g"),u=document.createElementNS("http://www.w3.org/2000/svg","circle");u.setAttribute("id",l.name),u.setAttribute("cx",""+this.width/2),u.setAttribute("cy",""+this.heigth/2),u.setAttribute("r",""+s),u.setAttribute("stroke-width","18"),u.setAttribute("stroke-dasharray","7 1"),u.setAttribute("stroke","#c1c1c1"),u.setAttribute("fill","transparent"),a.appendChild(u),this.slidersInfo.push(u);const g=document.createElementNS("http://www.w3.org/2000/svg","path");g.setAttribute("id",`progress-slider-${d}`),g.setAttribute("d",this.generateArcForactivePath(this.width/2,this.heigth/2,s,this.sliderAngle[d])),g.setAttribute("stroke-width","18"),g.setAttribute("stroke",l.color),g.setAttribute("opacity",".7"),g.setAttribute("fill","transparent"),a.appendChild(g);const p=document.createElementNS("http://www.w3.org/2000/svg","path");p.setAttribute("id",`progress-slider-${d}`),p.setAttribute("d",this.generateArcForactivePath(this.width/2,this.heigth/2,s,this.sliderAngle[d])),p.setAttribute("stroke-width","18"),p.setAttribute("stroke-dasharray","7 1"),p.setAttribute("stroke",l.color),p.setAttribute("fill","transparent"),a.appendChild(p);const f=this.sliderButtonCenterCalculate(this.sliderAngle[d]*(Math.PI*2/360),u.getAttribute("r")),c=document.createElementNS("http://www.w3.org/2000/svg","circle");c.setAttribute("cx",""+f.x),c.setAttribute("cy",""+f.y),c.setAttribute("r","13"),c.setAttribute("fill","url('#radialGradient')"),c.setAttribute("stroke-width","1"),c.setAttribute("stroke","#c8c8c8"),c.style.cursor="pointer",a.appendChild(c),this.svg.appendChild(a)})});const e=document.querySelector(t);if(!e){alert("Element not found");return}e.style.display="flex",this.radius=r,this.width=e.offsetWidth-200,this.heigth=this.width,this.sliders=[...i],this.legend=document.createElement("div"),this.legend.setAttribute("id","legend"),this.legend.style.width="200px",e.appendChild(this.legend);const s=document.createElement("div");s.style.textAlign="center";const l=document.createElementNS("http://www.w3.org/2000/svg","svg");l.setAttribute("id","slider-holder"),l.setAttribute("width",""+this.width),l.setAttribute("height",""+this.heigth),l.setAttribute("transform",`rotate(-${this.sliderRotationOffset})`),l.addEventListener("mousedown",a=>{this.mouseEventStart(a)}),l.addEventListener("touchstart",a=>{this.mouseEventStart(a)}),l.addEventListener("mousemove",a=>{this.mouseEventStart(a,!0)}),l.addEventListener("touchmove",a=>{this.mouseEventStart(a,!0)}),window.addEventListener("mouseup",this.mouseEventEnd),window.addEventListener("touchend",this.mouseEventEnd),this.svg=l,e.appendChild(s),s.appendChild(this.svg);const d=document.createElement("div");d.innerHTML='<div style="font-style: italic; text-transform: uppercase; font-weight: bold;">Adjust dial to enter expenses</div>',s.appendChild(d),this.sliderAngle=i.map(a=>this.calculateAngleBasedOnValue(a))}findSlider(t,r){const i=Math.hypot(t-this.width/2,r-this.heigth/2);let e=1/0,s=-1;return this.slidersInfo.map((l,d)=>{let a=Math.abs(i-parseInt(l.getAttribute("r")||""));e>a&&(e=a,s=d)}),s}}h.Slider=o,Object.defineProperties(h,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
